var p=(n,e,t)=>{if(!e.has(n))throw TypeError("Cannot "+t)};var l=(n,e,t)=>{if(e.has(n))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(n):e.set(n,t)};var d=(n,e,t)=>(p(n,e,"access private method"),t);const m=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const h of o.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}};m();class w{constructor(e){this.element=null,this.id=e,this.time=0,this.isMouseDown=!1,this.opacity=1,this.position={x:0,y:0},this.size={x:20,y:20},this.target={position:{x:0,y:0},distance:0}}setTarget(e){this.target.position=e}setMouseDown(e){this.isMouseDown=e}update(e){this.time+=e;const t=this.target.position,i=Math.hypot(t.x-this.position.x,t.y-this.position.y);this.isMouseDown?this.opacity=Math.min(this.opacity+e*5,1):this.opacity=Math.max(this.opacity-e*1.5,0);let s=.2;this.isMouseDown?i<=2&&(s=.1):s=.5,this.position.x+=(t.x-this.position.x)*s,this.position.y+=(t.y-this.position.y)*s,this.target.distance=i}draw(){const e=this.position.x-this.size.x/2,t=this.position.y-this.size.y/2,i=Math.max(1,this.target.distance*.02);this.element.style.transform=`matrix(${i}, 0, 0, ${i}, ${e}, ${t})`,this.element.style.opacity=this.opacity}init(){this.element=document.createElement("div"),this.element.classList.add("stalker"),this.element.style.width=`${this.size.x}px`,this.element.style.height=`${this.size.y}px`,document.querySelector(".mv").append(this.element)}}class y{constructor(){this.mouse={position:{x:0,y:0},isDown:!1},this.time=0,this.deltaTime=0,this.lastTimeStamp=0,this.bind()}start(){this.animate()}update(){}draw(){}handleMouseDown(e){this.mouse.isDown=!0,this.mouse.position.x=e.clientX,this.mouse.position.y=e.clientY}handleMouseMove(e){this.mouse.position.x=e.clientX,this.mouse.position.y=e.clientY}handleMouseUp(e){this.mouse.isDown=!1,this.mouse.position.x=e.clientX,this.mouse.position.y=e.clientY}handleResize(e){}animate(e){requestAnimationFrame(this.animate.bind(this)),this.deltaTime=(e-this.lastTimeStamp)/1e3||0,this.time+=this.deltaTime,this.update(),this.draw(),this.lastTimeStamp=e}bind(){window.addEventListener("mousedown",this.handleMouseDown.bind(this),{passive:!1}),window.addEventListener("mousemove",this.handleMouseMove.bind(this),{passive:!1}),window.addEventListener("mouseup",this.handleMouseUp.bind(this),{passive:!1}),window.addEventListener("resize",this.handleResize.bind(this),{passive:!0})}}const u=(n,e,t,i,s)=>(n-e)*(s-i)/(t-e)+i,x=.75;var r,S,a,z;class f{constructor(e){l(this,r);l(this,a);this.element=null,this.id=e,this.time=0,this.isMouseDown=!1,this.position={x:0,y:0},this.size={x:0,y:0},this.scale=x,this.speed=.2,this.target={position:{x:0,y:0},distance:0},this.windowSize={x:0,y:0}}update(e){this.time+=e;const t=this.isMouseDown?d(this,a,z).call(this):{x:0,y:0},i={x:-t.x,y:-t.y},s={x:this.windowSize.x/2-this.size.x/2,y:this.windowSize.y/2-this.size.y/2},o={x:u(i.x,0,1,0,s.x),y:u(i.y,0,1,0,s.y)},h={x:s.x+o.x,y:s.y+o.y};this.position.x+=(h.x-this.position.x)*this.speed,this.position.y+=(h.y-this.position.y)*this.speed}draw(){this.element.style.transform=`matrix(1, 0, 0, 1, ${this.position.x}, ${this.position.y})`}setSize(e,t){this.size.x=e*this.scale,this.size.y=t*this.scale}setWindowSize(e,t){this.windowSize.x=e,this.windowSize.y=t}setScale(e){this.scale=e}setSpeed(e){this.speed=e}setTarget(e){this.target.position=e}setMouseDown(e){this.isMouseDown=e}styleElement(){!this.element||(this.element.style.width=`${this.size.x}px`,this.element.style.height=`${this.size.y}px`)}init(){d(this,r,S).call(this),this.styleElement()}}r=new WeakSet,S=function(){this.element=document.createElement("div"),this.element.classList.add("square"),document.querySelector(".mv").append(this.element)},a=new WeakSet,z=function(){const e={x:this.windowSize.x/2,y:this.windowSize.y/2},t=this.target.position;return{x:t.x/e.x-1,y:t.y/e.y-1}};const c=15,M=20;class v extends y{constructor(){super();this.windowSize={x:window.innerWidth,y:window.innerHeight},this.stalkers=[],this.squares=[],this.init()}init(){for(let e=0;e<c;e++)this.squares.push(new f(e));for(let e=0;e<M;e++)this.stalkers.push(new w(e));this.squares.forEach((e,t)=>{const i=.3,s=.1;if(e.setWindowSize(this.windowSize.x,this.windowSize.y),e.setSpeed(u(t,0,c,i,s)),e.setTarget(this.mouse.position),t>=1){const h=this.squares[t-1].size;e.setSize(h.x,h.y)}else e.setSize(this.windowSize.x,this.windowSize.y);e.init()}),this.stalkers.forEach((e,t)=>{if(e.init(),t>=1){const i=this.stalkers[t-1];e.setTarget(i.position)}else e.setTarget(this.mouse.position)})}update(){this.stalkers.forEach(e=>{e.update(this.deltaTime)}),this.squares.forEach(e=>{e.update(this.deltaTime)})}draw(){this.stalkers.forEach(e=>{e.draw()}),this.squares.forEach(e=>{e.draw()})}handleMouseDown(e){super.handleMouseDown(e),this.setMouseFlag()}handleMouseMove(e){!this.mouse.isDown||super.handleMouseMove(e)}handleMouseUp(e){super.handleMouseUp(e),this.setMouseFlag()}handleResize(e){this.windowSize={x:window.innerWidth,y:window.innerHeight},this.squares.forEach((t,i)=>{if(t.setWindowSize(this.windowSize.x,this.windowSize.y),i===0)t.setSize(this.windowSize.x,this.windowSize.y);else{const o=this.squares[i-1].size;t.setSize(o.x,o.y)}t.styleElement()})}setMouseFlag(){this.stalkers.forEach(e=>{e.setMouseDown(this.mouse.isDown)}),this.squares.forEach(e=>{e.setMouseDown(this.mouse.isDown)})}}const g=new v;g.start();
